<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="comm">
    <script type="text/javascript" th:src="@{/plugins/vali/js/jquery-3.2.1.min.js}"></script>
    <script type="text/javascript" th:src="@{/plugins/vali/js/popper.min.js}"></script>
    <script type="text/javascript" th:src="@{/plugins/vali/js/bootstrap.min.js}"></script>
    <script type="text/javascript" th:src="@{/plugins/vali/js/main.js}"></script>
    <script type="text/javascript" th:src="@{/plugins/vali/js/plugins/pace.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/mayday.js}"></script>
    <script type="text/javascript" th:src="@{/plugins/toast/jquery.toast.js}"></script>
</div>

<div th:fragment="bootstrapValidator">
    <script th:src="@{/plugins/bootstrapvalidator/js/bootstrapValidator.min.js}"></script>
    <script th:src="@{/plugins/bootstrapvalidator/js/language/zh_CN.js}"></script>
</div>

<div th:fragment="bootstrapFileinput">
    <script type="text/javascript" th:src="@{/plugins/bootstrap-fileinput/js/fileinput.min.js}"></script>
    <script type="text/javascript" th:src="@{/plugins/bootstrap-fileinput/js/locales/zh.js}"></script>
    <script type="text/javascript" th:src="@{/plugins/bootstrap-fileinput/themes/fa/theme.js}"></script>
</div>

<div class="clearfix" th:fragment="pageAdminNav(indexPage,totalPage)">
    <ul class="pagination no-margin float-right">
        <li th:class="${indexPage==1}?'disabled' : ''"><a class="page-link" href="#">上一页</a></li>
        <li class="page-item" th:if="${indexPage-3 >=1}"><a class="page-link" th:href="@{'?page=' + ${indexPage-3}}"
                                                            th:text="${indexPage -3}">1</a></li>
        <li class="page-item" th:if="${indexPage-2 >=1}"><a class="page-link" th:href="@{'?page=' + ${indexPage-2}}"
                                                            th:text="${indexPage -2}">1</a></li>
        <li class="page-item" th:if="${indexPage-1 >=1}"><a class="page-link" th:href="@{'?page=' + ${indexPage-1}}"
                                                            th:text="${indexPage -1}">1</a></li>
        <li class="page-item active"><a class="page-link" href="#" th:text="${indexPage}">1</a></li>
        <li class="page-item" th:if="${indexPage+1 <=totalPage}"><a class="page-link"
                                                                    th:href="@{'?page=' + ${indexPage+1}}"
                                                                    th:text="${indexPage +1}">1</a></li>
        <li class="page-item" th:if="${indexPage+2 <=totalPage}"><a class="page-link"
                                                                    th:href="@{'?page=' + ${indexPage+2}}"
                                                                    th:text="${indexPage +2}">1</a></li>
        <li class="page-item" th:if="${indexPage+3 <=totalPage}"><a class="page-link"
                                                                    th:href="@{'?page=' + ${indexPage+3}}"
                                                                    th:text="${indexPage +3}">1</a></li>

        <li th:class="${indexPage==totalPage}?'disabled' : ''"><a class="page-link" href="#">下一页</a></li>
    </ul>
</div>

<!--<div class="clearfix" th:fragment="pageAdminNav(pageParam)">-->
<!--    <ul class="pagination no-margin float-right">-->
<!--        <li th:if="${pageParam.getPages()}!=0" class="page-item"><a class="page-link" href="#" th:text="'共'+ ${pageParam.getPages()}+'页'"></a></li>-->
<!--        <li th:if="${pageParam.hasPrevious()}" class="page-item">-->
<!--            <a th:href="@{'?page='+${pageParam.current-1}" class="page-link">-->
<!--                <i class="fa fa-angle-left"></i>&nbsp;上一页-->
<!--            </a>-->
<!--        </li>-->
<!--        <th:block th:each="i:${#numbers.sequence(1, pageParam.getPages())}">-->
<!--            <li-->
<!--                    th:class="${i==pageParam.current} ? 'page-item active':'page-item'">-->
<!--                <a class="page-link" th:href="@{'?page='+${i}" th:text="${i}"></a>-->
<!--            </li>-->
<!--        </th:block>-->
<!--        <li th:if="${pageParam.hasNext()}" class="page-item">-->
<!--            <a th:href="@{'?page='+${pageParam.current+1}" class="page-link">-->
<!--                <i class="fa fa-angle-left"></i>&nbsp;下一页-->
<!--            </a>-->
<!--        </li>-->
<!--    </ul>-->
<!--</div>-->

<div th:fragment="remove" class="modal fade" id="removeModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">提示信息</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">您确定要删除吗？(不可逆)</div>
            <!-- 模态框底部 -->
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-outline-primary" onclick="remove()">确定</button>
            </div>

        </div>
    </div>
</div>
<div th:fragment="recycle" class="modal fade" id="recycleModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">提示信息</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">您确定要放入回收站吗？</div>
            <!-- 模态框底部 -->
            <div class="modal-footer">
                <input type="hidden" id="tagid"/>
                <button type="button" class="btn btn-outline-secondary"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-outline-primary" onclick="recycle()">确定</button>
            </div>

        </div>
    </div>
</div>

<!-- 顶部栏 -->
<head th:fragment="head(title)">
    <title thSys:text="${title}"></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--    <link rel="shortcut icon" th:href="${#maps.containsKey(options,'ico_logo') == false ? '/static/img/favicon.ico' : options['ico_logo'] }"/>-->
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/vali/css/main.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/font-awesome-4.7.0/css/font-awesome.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/toast/jquery.toast.css}">
    <link rel="stylesheet" th:href="@{/plugins/simplemde/simplemde.min.css}">
    <link rel="stylesheet" th:href="@{//cdn.jsdelivr.net/highlight.js/latest/styles/github.min.css}">
    <link rel="stylesheet" th:href="@{/plugins/bootstrap-fileinput/css/fileinput.min.css}">
    <link rel="stylesheet" th:href="@{/css/attachment.css}">
</head>
<header th:fragment="header" class="app-header"><a class="app-header__logo" href="/admin">Note</a>
    <a class="app-sidebar__toggle" href="#" data-toggle="sidebar" aria-label="Hide Sidebar"></a>
    <ul class="app-nav">
        <a class="app-nav__item" href="/" th:target="_blank" aria-label="Show notifications"><i
                class="fa fa-paper-plane fa-lg"></i></a>
        <!-- User Menu-->
        <li class="dropdown"><a class="app-nav__item" href="#" data-toggle="dropdown" aria-label="Open Profile Menu"><i
                class="fa fa-user fa-lg"></i></a>
            <ul class="dropdown-menu settings-menu dropdown-menu-right">
                <li><a class="dropdown-item" href="/admin/option"><i class="fa fa-cog fa-lg"></i> 设置</a></li>
                <li><a class="dropdown-item" href="/admin/profile"><i class="fa fa-user fa-lg"></i> 个人资料</a></li>
                <li><a class="dropdown-item" href="/admin/exitLogon"><i class="fa fa-sign-out fa-lg"></i> 退出</a></li>
            </ul>
        </li>
    </ul>
</header>
<div th:fragment="sidebar">
    <!-- Navbar-->
    <!-- 侧边栏-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
        <div class="app-sidebar__user"><img width="60px" class="app-sidebar__user-avatar"
                                            th:src="${session.user_session.userPortrait == '' ? '/static/img/portrait.jpg' : session.user_session.userPortrait}"
                                            alt="User Image">
            <div>
                <p class="app-sidebar__user-name" th:text="${session.user_session.userNickname}"></p>
            </div>
        </div>
        <ul class="app-menu">
            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                    class="app-menu__icon fa fa-file-text-o"></i><span
                    class="app-menu__label">书籍</span><i class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="admin/story"><i class="icon fa fa-circle-o"></i>小说列表</a></li>
                </ul>
            </li>
            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                    class="app-menu__icon fa fa-file-text-o"></i><span
                    class="app-menu__label">素材</span><i class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="/admin/page"><i class="icon fa fa-circle-o"></i>摘抄列表</a></li>
                </ul>
            </li>
            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                    class="app-menu__icon fa fa-cog"></i><span
                    class="app-menu__label">管理</span><i class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="/admin/option"><i class="icon fa fa-circle-o"></i>个人资料</a></li>
                </ul>
            </li>
            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                    class="app-menu__icon fa fa-book"></i><span
                    class="app-menu__label">设置</span><i class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="/admin/article"><i class="icon fa fa-circle-o"></i>标签列表</a></li>
                    <li><a class="treeview-item" href="/admin/article/new"><i class="icon fa fa-circle-o"></i>标签分类列表</a>
                    </li>
                    <li><a class="treeview-item" href="/admin/category"><i class="icon fa fa-circle-o"></i>字典列表</a></li>
                </ul>
            </li>
        </ul>
    </aside>
</div>

<div th:fragment="storyOutline">
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
        <ul class="app-menu">
            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                    class="app-menu__icon fa fa-file-text-o"></i><span
                    class="app-menu__label">书籍</span><i class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="admin/story"><i class="icon fa fa-circle-o"></i>小说列表</a></li>
                </ul>
            </li>
        </ul>
    </aside>
</div>
</body>
</html>